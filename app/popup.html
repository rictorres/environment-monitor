<!doctype html>
<html>

	<head>
		<!-- build:css styles/vendor.css -->
		<!-- bower:css -->
		<link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css" />
		<!-- endbower -->
		<!-- endbuild -->

		<!-- build:css styles/main.css -->
		<link href="styles/main.css" rel="stylesheet">
		<!-- endbuild -->

		<!-- build:js scripts/vendor.js -->
		<!-- bower:js -->
		<script src="bower_components/jquery/dist/jquery.js"></script>
		<script src="bower_components/ashe/ashe.js"></script>
		<!-- endbower -->
		<!-- endbuild -->

		<!-- build:js scripts/popup.js -->
		<script src="scripts/popup.js"></script>
		<!-- endbuild -->
	</head>

	<body>
		<div class="wrap">
			<div class="navbar navbar-inverse">
				<div class="container">
					<div class="navbar-header">
						<a href="" class="navbar-brand">DAx Environment Monitor <span>[refresh]</span></a>
					</div>
				</div>
			</div>
			<div class="container">
				<div class="row" id="render-container">
					<div class="col-xs-12">
						<p class="loading lead">Loading...</p>
					</div>
				</div>
			</div>
		</div>

		<script id="template-envs" type="html/template">
			{% for env in environments %}
			<div class="col-xs-6">
				<div id="{{env.name}}" class="panel panel-default">
					<div class="panel-heading">
						<h1 class="panel-title">
							<strong>{{env.label}}</strong>
						</h1>
					</div>
					<table class="package table table-condensed table-hover" id="package-{{env.name}}">
						<tbody>
							<tr>
								<td>Loading packages...</td>
							</tr>
						</tbody>
					</table>
					<div class="server-status panel-footer" id="status-{{env.name}}">
						<p>Loading status...</p>
					</div>
				</div>
			</div>
			{% endfor %}
		</script>

		<script id="template-packages" type="html/template">
				<tbody>
				{% for package in packages %}
					<tr>
						<td>{{package.repo}}</td>
						<td class="text-center">{{package.branch}}</td>
						<td class="text-right">{{package.revision}}</td>
					</tr>
				{% endfor %}
				</tbody>
		</script>

		<script id="template-status" type="html/template">
			<div class="row">
				<div class="col-xs-6">
					<div class="alert alert-{{status.apacheStatus.class}}">
						<strong>Apache</strong>
					</div>
				</div>
				<div class="col-xs-6">
					<div class="alert alert-{{status.tomcatStatus.class}}">
						<strong>Tomcat</strong>
					</div>
				</div>
			</div>
		</script>
	</body>

</html>
